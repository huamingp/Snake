
# c语言控制台贪吃蛇

## 创建游戏地图
## 蛇 
- 蛇的属性：（双向链表）位置坐标，prev，next
## 食物
- 食物的属性：（单向链表）位置坐标，next
- 食物的生成->随机的坐标
- 先生成下一个食物，当前食物被吃掉后，再显示该食物
## 移动
- 增删节点，在头节点之前增加新的节点，新节点的坐标根据移动的方向来确定(上，y--，下，y++，左，x--，右，x++，)，删掉尾部的节点
## 贪吃蛇吃掉食物变长
- 在头节点之前增加新节点即可，新节点的坐标根据方向来判断/
## 监测游戏状态，更新界面
- 监测贪吃蛇有没有吃到食物，有没有撞墙，有没有咬到自己，其他异常处理
## 打印游戏信息 得分


## bug log
2024 5.20 
### BUG

~~1. 发现蛇移动之后尾节点没有得到更新，导致蛇的长度一直增加~~
~~2. 发现小蛇的前进方向，默认向上，只有在输入向其他方向的指令后才会短暂改变方向，之后又会恢复向上~~

### solution

1.  忘记对旧的尾节点进行擦除，应该用白色的正方形进行覆盖
```
    SetColor(COLOR_WHITE_WHITE, &old_screen_attr);
    PrintAtCursor("■", oldTail->x, oldTail->y); // 清除旧尾巴
```
2. 没有对新的节点进行动态内存，采用的的是局部变量，导致再每一次输入方向之后，局部变量里的节点的位置、方向被释放掉了，恢复成默认的竖直向上

2024 5.22
### BUG
~~1. 发现check_food_on_body函数有异常,估计是忘记检查NULL了~~
### solution
1. 忘记对食物链表为空的情况进行校验了，单当食物链表为空，是在访问不存在的地址，导致解析错误